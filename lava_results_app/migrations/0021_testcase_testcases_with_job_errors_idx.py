# Copyright (C) 2025 Collabora Limited
#
# Author: Igor Ponomarev <igor.ponomarev@collabora.com>
#
# SPDX-License-Identifier: GPL-2.0-or-later

# Generated by Django 3.2.19 on 2025-06-12 09:57

from django.db import migrations, models


class Migration(migrations.Migration):
    dependencies = [
        ("lava_results_app", "0020_add_unique_constraint_for_all_get_or_create"),
    ]

    operations = [
        migrations.AddIndex(
            model_name="testcase",
            index=models.Index(
                condition=models.Q(
                    ("name", "job"),
                    ("result", 1),
                    (
                        "metadata__regex",
                        "error_type: (Configuration|Infrastructure|Bug)",
                    ),
                ),
                fields=["-suite"],
                name="testcases_with_job_errors_idx",
            ),
        ),
    ]
